!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VersaTilesStyle={})}(this,(function(e){"use strict";class t{static parse;static HSL;static HSV;static RGB;static random;asHex(){return this.toRGB().asHex()}toHSL(){return this.asHSL()}toHSV(){return this.asHSV()}toRGB(){return this.asRGB()}invertLuminosity(){return this.toHSL().invertLuminosity()}rotateHue(e){return this.toHSL().rotateHue(e)}saturate(e){return this.toHSL().saturate(e)}gamma(e){return this.toRGB().gamma(e)}invert(){return this.toRGB().invert()}contrast(e){return this.toRGB().contrast(e)}brightness(e){return this.toRGB().brightness(e)}lighten(e){return this.toRGB().lighten(e)}darken(e){return this.toRGB().darken(e)}tint(e,t){return this.toRGB().tint(e,t)}setHue(e){return this.toHSV().setHue(e)}}function r(e,t,r){return Math.min(Math.max(t,e),r)}function a(e,t){return(e%t+t)%t}function i(e,t){return e.toFixed(t).replace(/0+$/,"").replace(/\.$/,"")}class o extends t{r=0;g=0;b=0;a=1;constructor(e,t,a,i=1){super(),this.r=r(e,0,255),this.g=r(t,0,255),this.b=r(a,0,255),this.a=r(i,0,1)}clone(){return new o(this.r,this.g,this.b,this.a)}asArray(){return[this.r,this.g,this.b,this.a]}round(){return new o(Math.round(this.r),Math.round(this.g),Math.round(this.b),Math.round(1e3*this.a)/1e3)}asString(){return 1===this.a?`rgb(${this.r.toFixed(0)},${this.g.toFixed(0)},${this.b.toFixed(0)})`:`rgba(${this.r.toFixed(0)},${this.g.toFixed(0)},${this.b.toFixed(0)},${i(this.a,3)})`}asHex(){const e=Math.round(this.r).toString(16).padStart(2,"0"),t=Math.round(this.g).toString(16).padStart(2,"0"),r=Math.round(this.b).toString(16).padStart(2,"0");return 1===this.a?`#${e}${t}${r}`.toUpperCase():`#${e}${t}${r}${Math.round(255*this.a).toString(16).padStart(2,"0")}`.toUpperCase()}asHSL(){const e=this.r/255,t=this.g/255,r=this.b/255,a=Math.min(e,t,r),i=Math.max(e,t,r),o=i-a;let n=0,l=0;i===a?n=0:e===i?n=(t-r)/o:t===i?n=2+(r-e)/o:r===i&&(n=4+(e-t)/o),n=Math.min(60*n,360),n<0&&(n+=360);const c=(a+i)/2;return l=i===a?0:c<=.5?o/(i+a):o/(2-i-a),new s(n,100*l,100*c,this.a)}asHSV(){const e=this.r/255,t=this.g/255,r=this.b/255,a=Math.max(e,t,r),i=a-Math.min(e,t,r);let o=0,s=0;if(0!==i){function l(e){return(a-e)/6/i+.5}s=i/a;const c=l(e),u=l(t),y=l(r);e===a?o=y-u:t===a?o=1/3+c-y:r===a&&(o=2/3+u-c),o<0?o+=1:o>1&&(o-=1)}return new n(360*o,100*s,100*a,this.a)}asRGB(){return this.clone()}toRGB(){return this}static parse(e){if(e instanceof t)return e.asRGB();let r;if(r=(e=e.toLowerCase().replaceAll(/[^0-9a-z.#,()]/g,"")).match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/),r){const e=parseInt(r[1],16),t=parseInt(r[2],16),a=parseInt(r[3],16),i=r[4]?parseInt(r[4],16)/255:1;return new o(e,t,a,i)}if(r=e.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/),r){const e=17*parseInt(r[1],16),t=17*parseInt(r[2],16),a=17*parseInt(r[3],16),i=r[4]?parseInt(r[4],16)/15:1;return new o(e,t,a,i)}if(r=(e=e.trim().toLowerCase().replaceAll(" ","")).match(/^rgb\((\d+),(\d+),(\d+)\)$/),r){const e=parseInt(r[1]),t=parseInt(r[2]),a=parseInt(r[3]);return new o(e,t,a)}if(r=e.match(/^rgba\((\d+),(\d+),(\d+),([.\d]+)\)$/),r){const e=parseInt(r[1]),t=parseInt(r[2]),a=parseInt(r[3]),i=parseFloat(r[4]);return new o(e,t,a,i)}throw new Error(`Invalid RGB color string: "${e}"`)}gamma(e){return e<.001&&(e=.001),e>1e3&&(e=1e3),new o(255*Math.pow(this.r/255,e),255*Math.pow(this.g/255,e),255*Math.pow(this.b/255,e),this.a)}invert(){return new o(255-this.r,255-this.g,255-this.b,this.a)}contrast(e){return e<0&&(e=0),e>1e6&&(e=1e6),new o(r((this.r-127.5)*e+127.5,0,255),r((this.g-127.5)*e+127.5,0,255),r((this.b-127.5)*e+127.5,0,255),this.a)}brightness(e){e<-1&&(e=-1),e>1&&(e=1);const t=1-Math.abs(e),r=e<0?0:255*e;return new o(this.r*t+r,this.g*t+r,this.b*t+r,this.a)}tint(e,t){e<0&&(e=0),e>1&&(e=1);const r=this.setHue(t.toHSV().h).toRGB();return new o(this.r*(1-e)+e*r.r,this.g*(1-e)+e*r.g,this.b*(1-e)+e*r.b,this.a)}lighten(e){return new o(r(255-(255-this.r)*(1-e),0,255),r(255-(255-this.g)*(1-e),0,255),r(255-(255-this.b)*(1-e),0,255),this.a)}darken(e){return new o(r(this.r*(1-e),0,255),r(this.g*(1-e),0,255),r(this.b*(1-e),0,255),this.a)}fade(e){return new o(this.r,this.g,this.b,this.a*(1-e))}}class n extends t{h=0;s=0;v=0;a=1;constructor(e,t,i,o=1){super(),this.h=a(e,360),this.s=r(t,0,100),this.v=r(i,0,100),this.a=r(o,0,1)}asArray(){return[this.h,this.s,this.v,this.a]}round(){return new n(Math.round(this.h),Math.round(this.s),Math.round(this.v),Math.round(1e3*this.a)/1e3)}asString(){return this.asHSL().asString()}clone(){return new n(this.h,this.s,this.v,this.a)}asHSL(){const e=this.s/100,t=this.v/100,r=(2-e)*t,a=r<1?r:2-r;return new s(this.h,0==a?0:100*e*t/a,100*r/2,this.a)}asHSV(){return this.clone()}toHSV(){return this}asRGB(){const e=this.h/360,t=this.s/100,r=this.v/100;let a=0,i=0,n=0;if(0===t)a=i=n=r;else{const o=Math.floor(6*e),s=6*e-o,l=r*(1-t),c=r*(1-t*s),u=r*(1-t*(1-s));switch(o%6){case 0:a=r,i=u,n=l;break;case 1:a=c,i=r,n=l;break;case 2:a=l,i=r,n=u;break;case 3:a=l,i=c,n=r;break;case 4:a=u,i=l,n=r;break;case 5:a=r,i=l,n=c}}return new o(255*a,255*i,255*n,this.a)}fade(e){return new n(this.h,this.s,this.v,this.a*(1-e))}setHue(e){return new n(e,this.s,this.v,this.a)}}class s extends t{h=0;s=0;l=0;a=1;constructor(e,t,i,o=1){super(),this.h=a(e,360),this.s=r(t,0,100),this.l=r(i,0,100),this.a=r(o,0,1)}asArray(){return[this.h,this.s,this.l,this.a]}round(){return new s(Math.round(this.h),Math.round(this.s),Math.round(this.l),Math.round(1e3*this.a)/1e3)}clone(){return new s(this.h,this.s,this.l,this.a)}asString(){return 1===this.a?`hsl(${this.h.toFixed(0)},${this.s.toFixed(0)}%,${this.l.toFixed(0)}%)`:`hsla(${this.h.toFixed(0)},${this.s.toFixed(0)}%,${this.l.toFixed(0)}%,${i(this.a,3)})`}asHSL(){return this.clone()}toHSL(){return this}asHSV(){const e=this.l/100,t=e+this.s/100*Math.min(e,1-e);return new n(this.h,100*(0===t?0:2*(1-e/t)),100*t,this.a)}asRGB(){const e=this.h/360,t=this.s/100,r=this.l/100;if(0===t)return new o(255*r,255*r,255*r,this.a);const a=r<.5?r*(1+t):r+t-r*t,i=2*r-a,n=e=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+6*(a-i)*e:e<.5?a:e<2/3?i+(a-i)*(2/3-e)*6:i);return new o(255*n(e+1/3),255*n(e),255*n(e-1/3),this.a)}static parse(e){if(e instanceof t)return e.asHSL();let r=(e=e.replace(/\s+/g,"").toLowerCase()).match(/^hsl\((?<h>[-+0-9.]+)(?:deg)?,(?<s>[-+0-9.]+)%,(?<l>[-+0-9.]+)%\)$/);if(r)return new s(parseFloat(r.groups.h),parseFloat(r.groups.s),parseFloat(r.groups.l));if(r=e.match(/^hsla\((?<h>[-+0-9.]+)(?:deg)?,(?<s>[-+0-9.]+)%,(?<l>[-+0-9.]+)%,(?<a>[-+0-9.]+)\)$/),r)return new s(parseFloat(r.groups.h),parseFloat(r.groups.s),parseFloat(r.groups.l),parseFloat(r.groups.a));throw new Error(`Invalid HSL color string: "${e}"`)}invertLuminosity(){return new s(this.h,this.s,100-this.l,this.a)}rotateHue(e){return new s(a(this.h+e,360),this.s,this.l,this.a)}saturate(e){return new s(this.h,r(this.s*(1+e),0,100),this.l,this.a)}fade(e){return new s(this.h,this.s,this.l,this.a*(1-e))}}let l=new Map;function c(e){(e=a(e,360))>=334&&(e-=360);for(const t of l.values())if(t.hueRange&&e>=t.hueRange[0]&&e<=t.hueRange[1])return t;throw Error("Color hue value not found")}function u(e,t,r){e instanceof RegExp&&(e=y(e,r)),t instanceof RegExp&&(t=y(t,r));const a=function(e,t,r){let a,i,o,n,s,l=r.indexOf(e),c=r.indexOf(t,l+1),u=l;if(l>=0&&c>0){if(e===t)return[l,c];for(a=[],o=r.length;u>=0&&!s;)u===l?(a.push(u),l=r.indexOf(e,u+1)):1===a.length?s=[a.pop(),c]:(i=a.pop(),i<o&&(o=i,n=c),c=r.indexOf(t,u+1)),u=l<c&&l>=0?l:c;a.length&&(s=[o,n])}return s}(e,t,r);return a&&{start:a[0],end:a[1],pre:r.slice(0,a[0]),body:r.slice(a[0]+e.length,a[1]),post:r.slice(a[1]+t.length)}}function y(e,t){const r=t.match(e);return r?r[0]:null}t.parse=function(e){if(e instanceof t)return e;if((e=e.trim().toLowerCase()).startsWith("#"))return o.parse(e);switch(e.replace(/\d.*/,"").trim().toLowerCase()){case"rgb(":case"rgba(":return o.parse(e);case"hsl(":case"hsla(":return s.parse(e);default:throw Error("Unknown color format: "+e)}},t.HSL=s,t.HSV=n,t.RGB=o,t.random=function(e){0===l.size&&(l=function(){const e=new Map,t=(t,r,a)=>{const[i]=a,o=a[a.length-1];e.set(t,{hueRange:r,lowerBounds:a,saturationRange:[i[0],o[0]],brightnessRange:[o[1],i[1]]})};return t("monochrome",null,[[0,0],[100,0]]),t("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),t("orange",[18,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),t("yellow",[46,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),t("green",[62,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),t("blue",[178,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),t("purple",[257,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),t("pink",[282,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]]),e}()),e??={};let t=function(e){if(null==e)return 0;if("number"==typeof e)return e;let t=0;for(let r=0;r<e.length;r++)t=(257*t+e.charCodeAt(r))%4294967296;return t}(e.seed);const r=function(e){return a(s(function(e){if("number"==typeof e)return[e=a(e,360),e];if("string"==typeof e){const t=l.get(e);if(t?.hueRange)return t.hueRange}return[0,360]}(e.hue)),360)}(e),i=function(e,t){if("monochrome"===t.hue)return 0;if("random"===t.luminosity)return s([0,100]);let[r,a]=c(e).saturationRange;if("strong"===t.saturation)return a;switch(t.luminosity){case"bright":r=55;break;case"dark":r=a-10;break;case"light":a=55}return s([r,a])}(r,e),o=function(e,t,r){let a=function(e,t){const{lowerBounds:r}=c(e);for(let e=0;e<r.length-1;e++){const[a,i]=r[e],[o,n]=r[e+1];if(t>=a&&t<=o){const e=(n-i)/(o-a);return e*t+(i-e*a)}}return 0}(e,t),i=100;if("number"==typeof r.luminosity)a=r.luminosity,i=r.luminosity;else switch(r.luminosity){case"dark":i=Math.min(100,a+20);break;case"light":a=(i+a)/2;break;case"random":a=0,i=100}return s([a,i])}(r,i,e);return new n(r,i,o,e.opacity??1);function s(e){return t=(9301*t+49297)%233280,Math.floor(e[0]+t/233280*(e[1]-e[0]))}};const p="\0SLASH"+Math.random()+"\0",d="\0OPEN"+Math.random()+"\0",b="\0CLOSE"+Math.random()+"\0",m="\0COMMA"+Math.random()+"\0",h="\0PERIOD"+Math.random()+"\0",g=new RegExp(p,"g"),f=new RegExp(d,"g"),k=new RegExp(b,"g"),w=new RegExp(m,"g"),v=new RegExp(h,"g"),z=/\\\\/g,x=/\\{/g,_=/\\}/g,T=/\\,/g,E=/\\./g;function F(e){return isNaN(e)?e.charCodeAt(0):parseInt(e,10)}function C(e){return e.replace(g,"\\").replace(f,"{").replace(k,"}").replace(w,",").replace(v,".")}function H(e){if(!e)return[""];const t=[],r=u("{","}",e);if(!r)return e.split(",");const{pre:a,body:i,post:o}=r,n=a.split(",");n[n.length-1]+="{"+i+"}";const s=H(o);return o.length&&(n[n.length-1]+=s.shift(),n.push.apply(n,s)),t.push.apply(t,n),t}function S(e){return e?("{}"===e.slice(0,2)&&(e="\\{\\}"+e.slice(2)),D(function(e){return e.replace(z,p).replace(x,d).replace(_,b).replace(T,m).replace(E,h)}(e),!0).map(C)):[]}function A(e){return"{"+e+"}"}function B(e){return/^-?0\d/.test(e)}function $(e,t){return e<=t}function M(e,t){return e>=t}function D(e,t){const r=[],a=u("{","}",e);if(!a)return[e];const i=a.pre,o=a.post.length?D(a.post,!1):[""];if(/\$$/.test(a.pre))for(let e=0;e<o.length;e++)r.push(i+"{"+a.body+"}"+o[e]);else{const n=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(a.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(a.body),l=n||s,c=a.body.indexOf(",")>=0;if(!l&&!c)return a.post.match(/,.*\}/)?D(e=a.pre+"{"+a.body+b+a.post):[e];let u,y;if(l)u=a.body.split(/\.\./);else if(u=H(a.body),1===u.length&&(u=D(u[0],!1).map(A),1===u.length))return o.map((function(e){return a.pre+u[0]+e}));if(l){const e=F(u[0]),t=F(u[1]),r=Math.max(u[0].length,u[1].length);let a=3===u.length?Math.abs(F(u[2])):1,i=$;t<e&&(a*=-1,i=M);const o=u.some(B);y=[];for(let n=e;i(n,t);n+=a){let e;if(s)e=String.fromCharCode(n),"\\"===e&&(e="");else if(e=String(n),o){const t=r-e.length;if(t>0){const r=new Array(t+1).join("0");e=n<0?"-"+r+e.slice(1):r+e}}y.push(e)}}else{y=[];for(let e=0;e<u.length;e++)y.push.apply(y,D(u[e],!1))}for(let e=0;e<y.length;e++)for(let a=0;a<o.length;a++){const n=i+y[e]+o[a];(!t||l||n)&&r.push(n)}}return r}const R=new Map;function L(e){const r=typeof e;if("object"!==r)switch(r){case"boolean":case"number":case"string":case"undefined":return e;default:throw new Error(`Not implemented yet: "${r}" case`)}if(O(e))return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,L(t)])));if(e instanceof Array)return e.map((e=>L(e)));if(e instanceof t)return e.clone();if(null==e)return e;throw console.log("obj",e),console.log("obj.prototype",Object.getPrototypeOf(e)),Error()}function O(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&0===Object.keys(Object.getPrototypeOf(e)).length&&"Object"===e.constructor.name}function j(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return!0;case"object":return!1;default:throw Error("unknown type: "+typeof e)}}function I(e,...r){const a=L(e);for(const e of r)if("object"==typeof e)for(const r in e){if(!(r in e))continue;const i=e[r];switch(typeof i){case"number":case"string":case"boolean":a[r]=i;continue}if(j(a[r]))a[r]=L(i);else if(i instanceof t)a[r]=i.clone();else if(O(a[r])&&O(i))a[r]=I(a[r],i);else{if(!O(a[r])||!O(i))throw console.log("target[key]:",a[r]),console.log("source[key]:",e[r]),Error("unpredicted case");a[r]=I(a[r],i)}}return a}function G(e,t){return e?t=(t=(t=new URL(t,e).href).replace(/%7B/gi,"{")).replace(/%7D/gi,"}"):t}function W(e){if(!e)return"";try{e=new URL(e,"http://example.org").pathname}catch(e){}return(e=e.replace(/\/+$/,"")).split("/").pop()??""}function P(e,r,a){const i=e.map((e=>e.id)),o=new Set(i),n=new Map;return Object.entries(r).forEach((([e,t])=>{null!=t&&S(e).flatMap((e=>{if(!e.includes("*"))return e;const t=e.replace(/[^a-z_:-]/g,(e=>{if("*"===e)return"[a-z_-]*";throw new Error("unknown char to process. Do not know how to make a RegExp from: "+JSON.stringify(e))})),r=new RegExp(`^${t}$`,"i");return i.filter((e=>r.test(e)))})).forEach((e=>{o.has(e)&&n.set(e,I(n.get(e)??{},t))}))})),e.flatMap((e=>{const r=n.get(e.id);return r?(function(e,r){for(const[t,a]of Object.entries(r)){if(null==a)continue;const r=t.replace(/[A-Z]/g,(e=>"-"+e.toLowerCase())),s=R.get(e.type+"/"+r);s&&s.forEach((t=>{const{key:r}=t;let s=a;switch(t.valueType){case"color":s=n(s,i);break;case"fonts":s=n(s,o);break;case"resolvedImage":case"formatted":case"array":case"boolean":case"enum":case"number":s=n(s);break;default:throw new Error(`unknown propertyDef.valueType "${t.valueType}" for key "${r}"`)}switch(t.parent){case"layer":e[r]=s;break;case"layout":e.layout||(e.layout={}),e.layout[r]=s;break;case"paint":e.paint||(e.paint={}),e.paint[r]=s;break;default:throw new Error(`unknown parent "${t.parent}" for key "${r}"`)}}))}function i(e){if("string"==typeof e&&(e=t.parse(e)),e instanceof t)return a.do(e).asString();throw new Error(`unknown color type "${typeof e}"`)}function o(e){if("string"==typeof e)return[e];throw new Error(`unknown font type "${typeof e}"`)}function n(e,r){if("object"==typeof e){if(e instanceof t)return i(e);if(!Array.isArray(e))return function(e,t){return{stops:Object.entries(e).map((([e,r])=>[parseInt(e,10),t?t(r):r])).sort(((e,t)=>e[0]-t[0]))}}(e,r)}return r?r(e):e}}(e,r),[e]):[]}))}function U(e){return!!e&&(!(null==e.invertBrightness||!e.invertBrightness)||null!=e.rotate&&0!==e.rotate||null!=e.saturate&&0!==e.saturate||null!=e.gamma&&1!==e.gamma||null!=e.contrast&&1!==e.contrast||null!=e.brightness&&0!==e.brightness||null!=e.tint&&0!==e.tint||null!=e.tintColor&&"#FF0000"!==e.tintColor)}[{parent:"layer",types:"background,fill,line,symbol",key:"filter",valueType:"filter"},{parent:"layer",types:"background,fill,line,symbol",key:"maxzoom",valueType:"number"},{parent:"layer",types:"background,fill,line,symbol",key:"minzoom",valueType:"number"},{parent:"layout",types:"background,fill,line,symbol",key:"visibility",valueType:"enum"},{parent:"layout",types:"fill",key:"fill-sort-key",valueType:"number"},{parent:"layout",types:"line",key:"line-cap",valueType:"enum"},{parent:"layout",types:"line",key:"line-join",valueType:"enum"},{parent:"layout",types:"line",key:"line-miter-limit",valueType:"number"},{parent:"layout",types:"line",key:"line-round-limit",valueType:"number"},{parent:"layout",types:"line",key:"line-sort-key",valueType:"number"},{parent:"layout",types:"symbol",key:"icon-allow-overlap",valueType:"boolean"},{parent:"layout",types:"symbol",key:"icon-anchor",valueType:"enum"},{parent:"layout",types:"symbol",key:"icon-ignore-placement",valueType:"boolean"},{parent:"layout",types:"symbol",key:"icon-image",short:"image",valueType:"resolvedImage"},{parent:"layout",types:"symbol",key:"icon-keep-upright",valueType:"boolean"},{parent:"layout",types:"symbol",key:"icon-offset",valueType:"array"},{parent:"layout",types:"symbol",key:"icon-optional",valueType:"boolean"},{parent:"layout",types:"symbol",key:"icon-overlap",valueType:"enum"},{parent:"layout",types:"symbol",key:"icon-padding",valueType:"padding"},{parent:"layout",types:"symbol",key:"icon-pitch-alignment",valueType:"enum"},{parent:"layout",types:"symbol",key:"icon-rotate",valueType:"number"},{parent:"layout",types:"symbol",key:"icon-rotation-alignment",valueType:"enum"},{parent:"layout",types:"symbol",key:"icon-size",valueType:"number"},{parent:"layout",types:"symbol",key:"icon-text-fit-padding",valueType:"array"},{parent:"layout",types:"symbol",key:"icon-text-fit",valueType:"enum"},{parent:"layout",types:"symbol",key:"symbol-avoid-edges",valueType:"boolean"},{parent:"layout",types:"symbol",key:"symbol-placement",valueType:"enum"},{parent:"layout",types:"symbol",key:"symbol-sort-key",valueType:"number"},{parent:"layout",types:"symbol",key:"symbol-spacing",valueType:"number"},{parent:"layout",types:"symbol",key:"symbol-z-order",valueType:"enum"},{parent:"layout",types:"symbol",key:"text-allow-overlap",valueType:"boolean"},{parent:"layout",types:"symbol",key:"text-anchor",valueType:"enum"},{parent:"layout",types:"symbol",key:"text-field",short:"text",valueType:"formatted"},{parent:"layout",types:"symbol",key:"text-font",short:"font",valueType:"fonts"},{parent:"layout",types:"symbol",key:"text-ignore-placement",valueType:"boolean"},{parent:"layout",types:"symbol",key:"text-justify",valueType:"enum"},{parent:"layout",types:"symbol",key:"text-keep-upright",valueType:"boolean"},{parent:"layout",types:"symbol",key:"text-letter-spacing",valueType:"number"},{parent:"layout",types:"symbol",key:"text-line-height",valueType:"number"},{parent:"layout",types:"symbol",key:"text-max-angle",valueType:"number"},{parent:"layout",types:"symbol",key:"text-max-width",valueType:"number"},{parent:"layout",types:"symbol",key:"text-offset",valueType:"array"},{parent:"layout",types:"symbol",key:"text-optional",valueType:"boolean"},{parent:"layout",types:"symbol",key:"text-overlap",valueType:"enum"},{parent:"layout",types:"symbol",key:"text-padding",valueType:"number"},{parent:"layout",types:"symbol",key:"text-pitch-alignment",valueType:"enum"},{parent:"layout",types:"symbol",key:"text-radial-offset",valueType:"number"},{parent:"layout",types:"symbol",key:"text-rotate",valueType:"number"},{parent:"layout",types:"symbol",key:"text-rotation-alignment",valueType:"enum"},{parent:"layout",types:"symbol",key:"text-size",short:"size",valueType:"number"},{parent:"layout",types:"symbol",key:"text-transform",valueType:"enum"},{parent:"layout",types:"symbol",key:"text-variable-anchor-offset",valueType:"variableAnchorOffsetCollection"},{parent:"layout",types:"symbol",key:"text-variable-anchor",valueType:"array"},{parent:"layout",types:"symbol",key:"text-writing-mode",valueType:"array"},{parent:"paint",types:"background",key:"background-color",short:"color",valueType:"color"},{parent:"paint",types:"background",key:"background-opacity",short:"opacity",valueType:"number"},{parent:"paint",types:"background",key:"background-pattern",short:"image",valueType:"resolvedImage"},{parent:"paint",types:"fill",key:"fill-antialias",valueType:"boolean"},{parent:"paint",types:"fill",key:"fill-color",short:"color",valueType:"color"},{parent:"paint",types:"fill",key:"fill-extrusion-base",valueType:"number"},{parent:"paint",types:"fill",key:"fill-extrusion-color",valueType:"color"},{parent:"paint",types:"fill",key:"fill-extrusion-height",valueType:"number"},{parent:"paint",types:"fill",key:"fill-extrusion-opacity",valueType:"number"},{parent:"paint",types:"fill",key:"fill-extrusion-pattern",valueType:"resolvedImage"},{parent:"paint",types:"fill",key:"fill-extrusion-translate-anchor",valueType:"enum"},{parent:"paint",types:"fill",key:"fill-extrusion-translate",valueType:"array"},{parent:"paint",types:"fill",key:"fill-extrusion-vertical-gradient",valueType:"boolean"},{parent:"paint",types:"fill",key:"fill-opacity",short:"opacity",valueType:"number"},{parent:"paint",types:"fill",key:"fill-outline-color",valueType:"color"},{parent:"paint",types:"fill",key:"fill-pattern",short:"image",valueType:"resolvedImage"},{parent:"paint",types:"fill",key:"fill-translate-anchor",valueType:"enum"},{parent:"paint",types:"fill",key:"fill-translate",valueType:"array"},{parent:"paint",types:"line",key:"line-blur",valueType:"number"},{parent:"paint",types:"line",key:"line-color",short:"color",valueType:"color"},{parent:"paint",types:"line",key:"line-dasharray",valueType:"array"},{parent:"paint",types:"line",key:"line-gap-width",valueType:"number"},{parent:"paint",types:"line",key:"line-gradient",valueType:"color"},{parent:"paint",types:"line",key:"line-offset",valueType:"number"},{parent:"paint",types:"line",key:"line-opacity",short:"opacity",valueType:"number"},{parent:"paint",types:"line",key:"line-pattern",short:"image",valueType:"resolvedImage"},{parent:"paint",types:"line",key:"line-translate-anchor",valueType:"enum"},{parent:"paint",types:"line",key:"line-translate",valueType:"array"},{parent:"paint",types:"line",key:"line-width",short:"size",valueType:"number"},{parent:"paint",types:"symbol",key:"icon-color",short:"color",valueType:"color"},{parent:"paint",types:"symbol",key:"icon-halo-blur",valueType:"number"},{parent:"paint",types:"symbol",key:"icon-halo-color",valueType:"color"},{parent:"paint",types:"symbol",key:"icon-halo-width",valueType:"number"},{parent:"paint",types:"symbol",key:"icon-opacity",short:"opacity",valueType:"number"},{parent:"paint",types:"symbol",key:"icon-translate-anchor",valueType:"enum"},{parent:"paint",types:"symbol",key:"icon-translate",valueType:"array"},{parent:"paint",types:"symbol",key:"text-color",short:"color",valueType:"color"},{parent:"paint",types:"symbol",key:"text-halo-blur",valueType:"number"},{parent:"paint",types:"symbol",key:"text-halo-color",valueType:"color"},{parent:"paint",types:"symbol",key:"text-halo-width",valueType:"number"},{parent:"paint",types:"symbol",key:"text-opacity",short:"opacity",valueType:"number"},{parent:"paint",types:"symbol",key:"text-translate-anchor",valueType:"enum"},{parent:"paint",types:"symbol",key:"text-translate",valueType:"array"}].forEach((e=>{e.types.split(",").forEach((t=>{function r(r){const a=t+"/"+r,i={key:e.key,parent:e.parent,valueType:e.valueType},o=R.get(a);o?o.push(i):R.set(a,[i])}r(e.key),null!=e.short&&r(e.short)}))}));class J{skip;opt;cache;constructor(e){this.skip=!U(e),this.cache=new Map,this.opt=e}do(e){if(this.skip)return e;const r=e.asHex();return this.cache.get(r)||(e=function(e,r){return U(r)?(r.invertBrightness&&(e=e.invertLuminosity()),void 0!==r.rotate&&0!==r.rotate&&(e=e.rotateHue(r.rotate)),void 0!==r.saturate&&0!==r.saturate&&(e=e.saturate(r.saturate)),void 0!==r.gamma&&1!==r.gamma&&(e=e.gamma(r.gamma)),void 0!==r.contrast&&1!==r.contrast&&(e=e.contrast(r.contrast)),void 0!==r.brightness&&0!==r.brightness&&(e=e.brightness(r.brightness)),void 0!==r.tint&&void 0!==r.tintColor&&0!==r.tint&&(e=e.tint(r.tint,t.parse(r.tintColor))),e):e}(e,this.opt),this.cache.set(r,e),e)}}class V{#e="versatiles-shortbread";build(e){e??={};const r=e.baseUrl??globalThis?.document?.location?.origin??"https://tiles.versatiles.org",a=e.glyphs??"/assets/glyphs/{fontstack}/{range}.pbf",i=e.sprite??[{id:"basics",url:"/assets/sprites/basics/sprites"}],o=e.tiles??["/tiles/osm/{z}/{x}/{y}"],n=e.hideLabels??!1,s=e.language??null,l=e.recolor??{invertBrightness:!1,rotate:0,saturate:0,gamma:1,contrast:1,brightness:0,tint:0,tintColor:"#FF0000"},c=this.getColors(this.defaultColors);if(e.colors){let r;for(r in e.colors){const a=e.colors[r];null!=a&&(c[r]=t.parse(a))}}const u=L(this.defaultFonts);if(e.fonts){let t;for(t in e.fonts){const r=e.fonts[t];null!=r&&(u[t]=r)}}const y={version:8,name:"versatiles",metadata:{license:"https://creativecommons.org/publicdomain/zero/1.0/"},glyphs:"https://tiles.versatiles.org/assets/glyphs/{fontstack}/{range}.pbf",sprite:[{id:"basics",url:"https://tiles.versatiles.org/assets/sprites/basics/sprites"}],sources:{"versatiles-shortbread":{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',tiles:["https://tiles.versatiles.org/tiles/osm/{z}/{x}/{y}"],type:"vector",scheme:"xyz",bounds:[-180,-85.0511287798066,180,85.0511287798066],minzoom:0,maxzoom:14}},layers:[]},p=this.getStyleRules({colors:c,fonts:u,language:s}),d=function(e){const{language:t}=e,r=t?"{name_"+t+"}":"{name}";return[{id:"background",type:"background"},{id:"water-ocean",type:"fill","source-layer":"ocean"},{id:"land-glacier",type:"fill","source-layer":"water_polygons",filter:["all",["==","kind","glacier"]]},...[{id:"commercial",kinds:["commercial","retail"]},{id:"industrial",kinds:["industrial","quarry","railway"]},{id:"residential",kinds:["garages","residential"]},{id:"agriculture",kinds:["brownfield","farmland","farmyard","greenfield","greenhouse_horticulture","orchard","plant_nursery","vineyard"]},{id:"waste",kinds:["landfill"]},{id:"park",kinds:["park","village_green","recreation_ground"]},{id:"garden",kinds:["allotments","garden"]},{id:"burial",kinds:["cemetery","grave_yard"]},{id:"leisure",kinds:["miniature_golf","playground","golf_course"]},{id:"rock",kinds:["bare_rock","scree","shingle"]},{id:"forest",kinds:["forest"]},{id:"grass",kinds:["grass","grassland","meadow","wet_meadow"]},{id:"vegetation",kinds:["heath","scrub"]},{id:"sand",kinds:["beach","sand"]},{id:"wetland",kinds:["bog","marsh","string_bog","swamp"]}].map((({id:e,kinds:t})=>({id:"land-"+e,type:"fill","source-layer":"land",filter:["all",["in","kind",...t]]}))),...["river","canal","stream","ditch"].map((e=>({id:"water-"+e,type:"line","source-layer":"water_lines",filter:["all",["in","kind",e],["!=","tunnel",!0],["!=","bridge",!0]]}))),{id:"water-area",type:"fill","source-layer":"water_polygons",filter:["==","kind","water"]},{id:"water-area-river",type:"fill","source-layer":"water_polygons",filter:["==","kind","river"]},{id:"water-area-small",type:"fill","source-layer":"water_polygons",filter:["in","kind","reservoir","basin","dock"]},{id:"water-dam-area",type:"fill","source-layer":"dam_polygons",filter:["==","kind","dam"]},{id:"water-dam",type:"line","source-layer":"dam_lines",filter:["==","kind","dam"]},{id:"water-pier-area",type:"fill","source-layer":"pier_polygons",filter:["in","kind","pier","breakwater","groyne"]},{id:"water-pier",type:"line","source-layer":"pier_lines",filter:["in","kind","pier","breakwater","groyne"]},...["danger_area","sports_center","university","college","school","hospital","prison","parking","bicycle_parking","construction"].map((e=>({id:"site-"+e.replace(/_/g,""),type:"fill","source-layer":"sites",filter:["in","kind",e]}))),{id:"airport-area",type:"fill","source-layer":"street_polygons",filter:["in","kind","runway","taxiway"]},{id:"airport-taxiway:outline",type:"line","source-layer":"streets",filter:["==","kind","taxiway"]},{id:"airport-runway:outline",type:"line","source-layer":"streets",filter:["==","kind","runway"]},{id:"airport-taxiway",type:"line","source-layer":"streets",filter:["==","kind","taxiway"]},{id:"airport-runway",type:"line","source-layer":"streets",filter:["==","kind","runway"]},{id:"building:outline",type:"fill","source-layer":"buildings"},{id:"building",type:"fill","source-layer":"buildings"},...["tunnel","street","bridge"].flatMap((e=>{let t,r,a=[];const i=[];switch(e){case"tunnel":t=[["==","tunnel",!0]],r="tunnel-",a=[":outline",""];break;case"street":t=[["!=","bridge",!0],["!=","tunnel",!0]],r="",a=[":outline",""];break;case"bridge":t=[["==","bridge",!0]],r="bridge-",a=[":bridge",":outline",""]}return"street"===e&&i.push({id:"bridge",type:"fill","source-layer":"bridges"}),a.forEach((e=>{":outline"===e&&i.push({id:r+"street-pedestrian-zone",type:"fill","source-layer":"street_polygons",filter:["all",...t,["==","kind","pedestrian"]]}),["footway","steps","path","cycleway"].forEach((a=>{i.push({id:r+"way-"+a.replace(/_/g,"")+e,type:"line","source-layer":"streets",filter:["all",...t,["in","kind",a]]})}));const a=["!=","service","driveway"];["track","pedestrian","service","living_street","residential","unclassified"].forEach((o=>{i.push({id:r+"street-"+o.replace(/_/g,"")+e,type:"line","source-layer":"streets",filter:["all",["==","kind",o],...t,..."service"===o?[a]:[]]})})),""===e&&["track","pedestrian","service","living_street","residential","unclassified"].forEach((e=>{i.push({id:r+"street-"+e.replace(/_/g,"")+"-bicycle",type:"line","source-layer":"streets",filter:["all",["==","kind",e],["==","bicycle","designated"],...t,..."service"===e?[a]:[]]})})),["tertiary","secondary","primary","trunk","motorway"].forEach((a=>{i.push({id:r+"street-"+a.replace(/_/g,"")+"-link"+e,type:"line","source-layer":"streets",filter:["all",...t,["in","kind",a],["==","link",!0]]})})),["tertiary","secondary","primary","trunk","motorway"].forEach((a=>{i.push({id:r+"street-"+a.replace(/_/g,"")+e,type:"line","source-layer":"streets",filter:["all",...t,["in","kind",a],["!=","link",!0]]})}))})),[":outline",""].forEach((a=>{["rail","light_rail","subway","narrow_gauge","tram","funicular","monorail","bus_guideway","busway"].reverse().forEach((e=>{i.push({id:r+"transport-"+e.replace(/_/g,"")+a,type:"line","source-layer":"streets",filter:["all",["in","kind",e],["!has","service"],...t]})})),"street"===e&&(["cable_car","gondola","goods","chair_lift","drag_lift","t-bar","j-bar","platter","rope-tow"].reverse().forEach((e=>{i.push({id:"aerialway-"+e.replace(/[_-]+/g,"")+a,type:"line","source-layer":"aerialways",filter:["all",...t,["in","kind",e]]})})),i.push({id:"transport-ferry"+a,type:"line","source-layer":"ferries"}))})),i})),...["amenity","leisure","tourism","shop","man_made","historic","emergency","highway","office"].map((e=>({id:"poi-"+e,type:"symbol","source-layer":"pois",filter:["to-boolean",["get",e]]}))),...[":outline",""].flatMap((e=>[{id:"boundary-country"+e,type:"line","source-layer":"boundaries",filter:["all",["==","admin_level",2],["!=","maritime",!0],["!=","disputed",!0],["!=","coastline",!0]]},{id:"boundary-country-disputed"+e,type:"line","source-layer":"boundaries",filter:["all",["==","admin_level",2],["==","disputed",!0],["!=","maritime",!0],["!=","coastline",!0]]},{id:"boundary-country-maritime"+e,type:"line","source-layer":"boundaries",filter:["all",["==","admin_level",2],["==","maritime",!0],["!=","disputed",!0],["!=","coastline",!0]]},{id:"boundary-state"+e,type:"line","source-layer":"boundaries",filter:["all",["==","admin_level",4],["!=","maritime",!0],["!=","disputed",!0],["!=","coastline",!0]]}])),{id:"label-address-housenumber",type:"symbol","source-layer":"addresses",filter:["has","housenumber"],layout:{"text-field":"{housenumber}"}},{id:"label-motorway-exit",type:"symbol","source-layer":"street_labels_points",filter:["==","kind","motorway_junction"],layout:{"text-field":"{ref}"}},{id:"label-motorway-shield",type:"symbol","source-layer":"street_labels",filter:["==","kind","motorway"],layout:{"text-field":"{ref}"}},...["pedestrian","living_street","residential","unclassified","tertiary","secondary","primary","trunk"].map((e=>({id:"label-street-"+e.replace(/_/g,""),type:"symbol","source-layer":"street_labels",filter:["==","kind",e],layout:{"text-field":r}}))),...["neighbourhood","quarter","suburb","hamlet","village","town"].map((e=>({id:"label-place-"+e.replace(/_/g,""),type:"symbol","source-layer":"place_labels",filter:["==","kind",e],layout:{"text-field":r}}))),{id:"label-boundary-state",type:"symbol","source-layer":"boundary_labels",filter:["in","admin_level",4,"4"],layout:{"text-field":r}},...["city","state_capital","capital"].map((e=>({id:"label-place-"+e.replace(/_/g,""),type:"symbol","source-layer":"place_labels",filter:["==","kind",e],layout:{"text-field":r}}))),{id:"label-boundary-country-small",type:"symbol","source-layer":"boundary_labels",filter:["all",["in","admin_level",2,"2"],["<=","way_area",1e7]],layout:{"text-field":r}},{id:"label-boundary-country-medium",type:"symbol","source-layer":"boundary_labels",filter:["all",["in","admin_level",2,"2"],["<","way_area",9e7],[">","way_area",1e7]],layout:{"text-field":r}},{id:"label-boundary-country-large",type:"symbol","source-layer":"boundary_labels",filter:["all",["in","admin_level",2,"2"],[">=","way_area",9e7]],layout:{"text-field":r}},{id:"marking-oneway",type:"symbol","source-layer":"streets",filter:["all",["==","oneway",!0],["in","kind","trunk","primary","secondary","tertiary","unclassified","residential","living_street"]],layout:{"symbol-placement":"line","symbol-spacing":175,"icon-rotate":90,"icon-rotation-alignment":"map","icon-padding":5,"symbol-avoid-edges":!0}},{id:"marking-oneway-reverse",type:"symbol","source-layer":"streets",filter:["all",["==","oneway_reverse",!0],["in","kind","trunk","primary","secondary","tertiary","unclassified","residential","living_street"]],layout:{"symbol-placement":"line","symbol-spacing":75,"icon-rotate":-90,"icon-rotation-alignment":"map","icon-padding":5,"symbol-avoid-edges":!0}},{id:"marking-bicycle",type:"symbol","source-layer":"streets",filter:["all",["==","bicycle","designated"],["==","kind","cycleway"]],layout:{"symbol-placement":"line","symbol-spacing":50}},{id:"symbol-transit-bus",type:"symbol","source-layer":"public_transport",filter:["==","kind","bus_stop"],layout:{"text-field":r}},{id:"symbol-transit-tram",type:"symbol","source-layer":"public_transport",filter:["==","kind","tram_stop"],layout:{"text-field":r}},{id:"symbol-transit-subway",type:"symbol","source-layer":"public_transport",filter:["all",["in","kind","station","halt"],["==","station","subway"]],layout:{"text-field":r}},{id:"symbol-transit-lightrail",type:"symbol","source-layer":"public_transport",filter:["all",["in","kind","station","halt"],["==","station","light_rail"]],layout:{"text-field":r}},{id:"symbol-transit-station",type:"symbol","source-layer":"public_transport",filter:["all",["in","kind","station","halt"],["!in","station","light_rail","subway"]],layout:{"text-field":r}},{id:"symbol-transit-airfield",type:"symbol","source-layer":"public_transport",filter:["all",["==","kind","aerodrome"],["!has","iata"]],layout:{"text-field":r}},{id:"symbol-transit-airport",type:"symbol","source-layer":"public_transport",filter:["all",["==","kind","aerodrome"],["has","iata"]],layout:{"text-field":r}}]}({language:s});let b=d.map((e=>{switch(e.type){case"background":return e;case"fill":case"line":case"symbol":return{source:this.#e,...e}}throw Error("unknown layer type")}));b=P(b,p,new J(l)),n&&(b=b.filter((e=>"symbol"!==e.type))),y.layers=b,y.name="versatiles-"+this.name.toLowerCase(),y.glyphs=G(r,a),y.sprite="string"==typeof i?[{id:W(i),url:G(r,i)}]:i.map((({id:e,url:t})=>({id:e,url:G(r,t)})));const m=y.sources[this.#e];return"tiles"in m&&(m.tiles=o.map((e=>G(r,e)))),y}getColors(e){const r=Object.entries(e);return Object.fromEntries(r.map((([e,r])=>[e,t.parse(r)])))}getDefaultOptions(){return{baseUrl:"",glyphs:"",sprite:"",tiles:[],hideLabels:!1,language:void 0,colors:L(this.defaultColors),fonts:L(this.defaultFonts),recolor:{invertBrightness:!1,rotate:0,saturate:0,gamma:1,contrast:1,brightness:0,tint:0,tintColor:"#FF0000"}}}transformDefaultColors(e){const t=this.getColors(this.defaultColors);let r;for(r in t)this.defaultColors[r]=e(t[r])}}class N extends V{name="Colorful";defaultFonts={regular:"noto_sans_regular",bold:"noto_sans_bold"};defaultColors={land:"#F9F4EE",water:"#BEDDF3",glacier:"#FFFFFF",wood:"#66AA44",grass:"#D8E8C8",park:"#D9D9A5",street:"#FFFFFF",streetbg:"#CFCDCA",motorway:"#FFCC88",motorwaybg:"#E9AC77",trunk:"#FFEEAA",trunkbg:"#E9AC77",buildingbg:"#DFDBD7",building:"#F2EAE2",boundary:"#A6A6C8",disputed:"#BEBCCF",residential:"#EAE6E133",commercial:"#F7DEED40",industrial:"#FFF4C255",foot:"#FBEBFF",label:"#333344",labelHalo:"#FFFFFFCC",shield:"#FFFFFF",agriculture:"#F0E7D1",rail:"#B1BBC4",subway:"#A6B8C7",cycle:"#EFF9FF",waste:"#DBD6BD",burial:"#DDDBCA",sand:"#FAFAED",rock:"#E0E4E5",leisure:"#E7EDDE",wetland:"#D3E6DB",symbol:"#66626A",danger:"#FF0000",prison:"#FDF2FC",parking:"#EBE8E6",construction:"#A9A9A9",education:"#FFFF80",hospital:"#FF6666",poi:"#555555"};getStyleRules(e){const{colors:t,fonts:r}=e;return{background:{color:t.land},"boundary-{country,state}:outline":{color:t.land.lighten(.1),lineBlur:1,lineCap:"round",lineJoin:"round"},"boundary-{country,state}":{color:t.boundary,lineCap:"round",lineJoin:"round"},"boundary-country{-disputed,}:outline":{size:{2:0,3:2,10:8},opacity:.75,color:t.land.lighten(.05)},"boundary-country{-disputed,}":{size:{2:0,3:1,10:4}},"boundary-country-disputed":{color:t.disputed,lineDasharray:[2,1],lineCap:"square"},"boundary-state:outline":{size:{7:0,8:2,10:4},opacity:.75},"boundary-state":{size:{7:0,8:1,10:2}},"water-*":{color:t.water,lineCap:"round",lineJoin:"round"},"water-area":{opacity:{4:0,6:1}},"water-area-*":{opacity:{4:0,6:1}},"water-{pier,dam}-area":{color:t.land,opacity:{12:0,13:1}},"water-pier":{color:t.land},"water-river":{lineWidth:{9:0,10:3,15:5,17:9,18:20,20:60}},"water-canal":{lineWidth:{9:0,10:2,15:4,17:8,18:17,20:50}},"water-stream":{lineWidth:{13:0,14:1,15:2,17:6,18:12,20:30}},"water-ditch":{lineWidth:{14:0,15:1,17:4,18:8,20:20}},"land-*":{color:t.land},"land-glacier":{color:t.glacier},"land-forest":{color:t.wood,opacity:{7:0,8:.1}},"land-grass":{color:t.grass,opacity:{11:0,12:1}},"land-{park,garden,vegetation}":{color:t.park,opacity:{11:0,12:1}},"land-agriculture":{color:t.agriculture,opacity:{10:0,11:1}},"land-residential":{color:t.residential,opacity:{10:0,11:1}},"land-commercial":{color:t.commercial,opacity:{10:0,11:1}},"land-industrial":{color:t.industrial,opacity:{10:0,11:1}},"land-waste":{color:t.waste,opacity:{10:0,11:1}},"land-burial":{color:t.burial,opacity:{13:0,14:1}},"land-leisure":{color:t.leisure},"land-rock":{color:t.rock},"land-sand":{color:t.sand},"land-wetland":{color:t.wetland},"site-dangerarea":{color:t.danger,fillOutlineColor:t.danger,opacity:.3,image:"basics:pattern-warning"},"site-hospital":{color:t.hospital,opacity:.1},"site-prison":{color:t.prison,image:"basics:pattern-striped",opacity:.1},"site-construction":{color:t.construction,image:"basics:pattern-hatched_thin",opacity:.1},"site-{university,college,school}":{color:t.education,opacity:.1},"site-{bicycleparking,parking}":{color:t.parking},"building:outline":{color:t.buildingbg,opacity:{14:0,15:1}},building:{color:t.building,opacity:{14:0,15:1},fillTranslate:[-2,-2]},"airport-area":{color:t.street,opacity:.5},"airport-{runway,taxiway}:outline":{color:t.streetbg,lineJoin:"round"},"airport-{runway,taxiway}":{color:t.street,lineJoin:"round"},"airport-runway:outline":{size:{11:0,12:6,13:9,14:16,15:24,16:40,17:100,18:160,20:300}},"airport-runway":{size:{11:0,12:5,13:8,14:14,15:22,16:38,17:98,18:158,20:298},opacity:{11:0,12:1}},"airport-taxiway:outline":{size:{13:0,14:2,15:10,16:14,18:20,20:40}},"airport-taxiway":{size:{13:0,14:1,15:8,16:12,18:18,20:36},opacity:{13:0,14:1}},bridge:{color:t.land.darken(.02),fillAntialias:!0,opacity:.8},"{tunnel-,bridge-,}street-*:outline":{color:t.streetbg,lineJoin:"round"},"{tunnel-,bridge-,}street-*":{color:t.street,lineJoin:"round"},"tunnel-street-*:outline":{color:t.street.darken(.13)},"tunnel-street-*":{color:t.street.darken(.03)},"bridge-street-*:outline":{color:t.street.darken(.15)},"{tunnel-,}{street,way}-*":{lineCap:"round"},"{tunnel-,}{street,way}-*:outline":{lineCap:"round"},"bridge-{street,way}-*":{lineCap:"butt"},"bridge-{street,way}-*:outline":{lineCap:"butt"},"bridge-{street,way}-*:bridge":{lineCap:"butt",lineJoin:"round",color:t.land.darken(.02),fillAntialias:!0,opacity:.5},"bridge-street-motorway:bridge":{size:{5:0,6:3,10:7,14:7,16:20,18:53,19:118,20:235}},"bridge-street-trunk:bridge":{size:{7:0,8:3,10:6,14:8,16:17,18:50,19:104,20:202}},"bridge-street-primary:bridge":{size:{8:0,9:1,10:6,14:8,16:17,18:50,19:104,20:202}},"bridge-street-secondary:bridge":{size:{11:3,14:7,16:11,18:42,19:95,20:193},opacity:{11:0,12:1}},"bridge-street-motorway-link:bridge":{minzoom:12,size:{12:3,14:4,16:10,18:20,20:56}},"bridge-street-{trunk,primary,secondary}-link:bridge":{minzoom:13,size:{12:3,14:4,16:10,18:20,20:56}},"bridge-street-{tertiary,tertiary-link,unclassified,residential,livingstreet,pedestrian}*:bridge":{size:{12:3,14:4,16:8,18:36,19:90,20:179},opacity:{12:0,13:1}},"bridge-street-{service,track}:bridge":{size:{14:3,16:6,18:25,19:67,20:134},opacity:{14:0,15:1}},"bridge-way-*:bridge":{size:{15:0,16:7,18:10,19:17,20:31},minzoom:15},"{bridge-,}street-motorway{-link,}:outline":{color:t.motorwaybg},"{bridge-,}street-motorway{-link,}":{color:t.motorway},"{bridge-,}street-{trunk,primary,secondary}{-link,}:outline":{color:t.trunkbg},"{bridge-,}street-{trunk,primary,secondary}{-link,}":{color:t.trunk},"tunnel-street-motorway{-link,}:outline":{color:t.motorwaybg.lighten(.05),lineDasharray:[1,.3]},"tunnel-street-motorway{-link,}":{color:t.motorway.lighten(.1),lineCap:"butt"},"tunnel-street-{trunk,primary,secondary}{-link,}:outline":{color:t.trunkbg.lighten(.05),lineDasharray:[1,.3]},"tunnel-street-{trunk,primary,secondary}{-link,}":{color:t.trunk.lighten(.1),lineCap:"butt"},"{bridge-,tunnel-,}street-motorway:outline":{size:{5:0,6:2,10:5,14:5,16:14,18:38,19:84,20:168}},"{bridge-,tunnel-,}street-motorway":{size:{5:0,6:1,10:4,14:4,16:12,18:36,19:80,20:160},opacity:{5:0,6:1}},"{bridge-,tunnel-,}street-trunk:outline":{size:{7:0,8:2,10:4,14:6,16:12,18:36,19:74,20:144}},"{bridge-,tunnel-,}street-trunk":{size:{7:0,8:1,10:3,14:5,16:10,18:34,19:70,20:140},opacity:{7:0,8:1}},"{bridge-,tunnel-,}street-primary:outline":{size:{8:0,9:1,10:4,14:6,16:12,18:36,19:74,20:144}},"{bridge-,tunnel-,}street-primary":{size:{8:0,9:2,10:3,14:5,16:10,18:34,19:70,20:140},opacity:{8:0,9:1}},"{bridge-,tunnel-,}street-secondary:outline":{size:{11:2,14:5,16:8,18:30,19:68,20:138},opacity:{11:0,12:1}},"{bridge-,tunnel-,}street-secondary":{size:{11:1,14:4,16:6,18:28,19:64,20:130},opacity:{11:0,12:1}},"{bridge-,tunnel-,}street-motorway-link:outline":{minzoom:12,size:{12:2,14:3,16:7,18:14,20:40}},"{bridge-,tunnel-,}street-motorway-link":{minzoom:12,size:{12:1,14:2,16:5,18:12,20:38}},"{bridge-,tunnel-,}street-{trunk,primary,secondary}-link:outline":{minzoom:13,size:{12:2,14:3,16:7,18:14,20:40}},"{bridge-,tunnel-,}street-{trunk,primary,secondary}-link":{minzoom:13,size:{12:1,14:2,16:5,18:12,20:38}},"{bridge-,tunnel-,}street-{tertiary,tertiary-link,unclassified,residential,livingstreet,pedestrian}*:outline":{size:{12:2,14:3,16:6,18:26,19:64,20:128},opacity:{12:0,13:1}},"{bridge-,tunnel-,}street-{tertiary,tertiary-link,unclassified,residential,livingstreet,pedestrian}*":{size:{12:1,14:2,16:5,18:24,19:60,20:120},opacity:{12:0,13:1}},"{bridge-,tunnel-,}street-{service,track}:outline":{size:{14:2,16:4,18:18,19:48,20:96},opacity:{14:0,15:1}},"{bridge-,tunnel-,}street-{service,track}":{size:{14:1,16:3,18:16,19:44,20:88},opacity:{14:0,15:1}},"{bridge-,tunnel-,}way-*:outline":{size:{15:0,16:5,18:7,19:12,20:22},minzoom:15},"{bridge-,tunnel-,}way-*":{size:{15:0,16:4,18:6,19:10,20:20},minzoom:15},"{bridge-,}way-{footway,path,steps}:outline":{color:t.foot.darken(.1)},"{bridge-,}way-{footway,path,steps}":{color:t.foot.lighten(.02)},"tunnel-way-{footway,path,steps}:outline":{color:t.foot.darken(.1).saturate(-.5)},"tunnel-way-{footway,path,steps}":{color:t.foot.darken(.02).saturate(-.5),lineDasharray:[1,.2]},"{bridge-,}way-cycleway:outline":{color:t.cycle.darken(.1)},"{bridge-,}way-cycleway":{color:t.cycle},"tunnel-way-cycleway:outline":{color:t.cycle.darken(.1).saturate(-.5)},"tunnel-way-cycleway":{color:t.cycle.darken(.02).saturate(-.5),lineDasharray:[1,.2]},"{bridge-,tunnel-,}street-{tertiary,tertiary-link,unclassified,residential,livingstreet,pedestrian}-bicycle":{lineCap:"butt",color:t.cycle},"street-pedestrian":{size:{12:1,14:2,16:5,18:24,19:60,20:120},opacity:{13:0,14:1},color:t.foot},"street-pedestrian-zone":{color:t.foot.lighten(.02).fade(.75),opacity:{14:0,15:1}},"{tunnel-,bridge-,}transport-{rail,lightrail}:outline":{color:t.rail,size:{8:1,13:1,15:3,16:4,18:8,19:11,20:14}},"{tunnel-,bridge-,}transport-{rail,lightrail}":{color:t.rail.lighten(.25),size:{8:1,13:1,15:2,16:3,18:6,19:8,20:10},lineDasharray:[2,2]},"{tunnel-,bridge-,}transport-subway:outline":{color:t.subway,size:{11:0,12:1,15:3,16:3,18:6,19:8,20:10}},"{tunnel-,bridge-,}transport-subway":{color:t.subway.lighten(.25),size:{11:0,12:1,15:2,16:2,18:5,19:6,20:8},lineDasharray:[2,2]},"{tunnel-,bridge-,}transport-{tram,narrowgauge,funicular,monorail}:outline":{minzoom:15,color:t.rail,size:{15:0,16:5,18:7,20:20},lineDasharray:[.1,.5]},"{tunnel-,bridge-,}transport-{tram,narrowgauge,funicular,monorail}":{minzoom:13,size:{13:0,16:1,17:2,18:3,20:5},color:t.rail},"{bridge-,}transport-rail:outline":{opacity:{8:0,9:1}},"{bridge-,}transport-rail":{opacity:{14:0,15:1}},"{bridge-,}transport-{lightrail,subway}:outline":{opacity:{11:0,12:1}},"{bridge-,}transport-{lightrail,subway}":{opacity:{14:0,15:1}},"tunnel-transport-rail:outline":{opacity:{8:0,9:.3}},"tunnel-transport-rail":{opacity:{14:0,15:.3}},"tunnel-transport-{lightrail,subway}:outline":{opacity:{11:0,12:.5}},"tunnel-transport-{lightrail,subway}":{opacity:{14:0,15:1}},"transport-ferry":{minzoom:10,color:t.water.darken(.1),size:{10:1,13:2,14:3,16:4,17:6},opacity:{10:0,11:1},lineDasharray:[1,1]},"label-boundary-*":{color:t.label,font:r.regular,textTransform:"uppercase",textHaloColor:t.labelHalo,textHaloWidth:2,textHaloBlur:1,textAnchor:"top",textOffset:[0,.2],textPadding:0,textOptional:!0},"label-boundary-country-large":{minzoom:2,size:{2:8,5:13}},"label-boundary-country-medium":{minzoom:3,size:{3:8,5:12}},"label-boundary-country-small":{minzoom:4,size:{4:8,5:11}},"label-boundary-state":{minzoom:5,color:t.label.lighten(.05),size:{5:8,8:12}},"label-place-*":{color:t.label.rotateHue(-15).saturate(1).darken(.05),font:r.regular,textHaloColor:t.labelHalo,textHaloWidth:2,textHaloBlur:1},"label-place-capital":{minzoom:5,size:{5:12,10:16}},"label-place-statecapital":{minzoom:6,size:{6:11,10:15}},"label-place-city":{minzoom:7,size:{7:11,10:14}},"label-place-town":{minzoom:9,size:{8:11,12:14}},"label-place-village":{minzoom:11,size:{9:11,12:14}},"label-place-hamlet":{minzoom:13,size:{10:11,12:14}},"label-place-suburb":{minzoom:11,size:{11:11,13:14},textTransform:"uppercase",color:t.label.rotateHue(-30).saturate(1).darken(.05)},"label-place-quarter":{minzoom:13,size:{13:13},textTransform:"uppercase",color:t.label.rotateHue(-40).saturate(1).darken(.05)},"label-place-neighbourhood":{minzoom:14,size:{14:12},textTransform:"uppercase",color:t.label.rotateHue(-50).saturate(1).darken(.05)},"label-motorway-shield":{color:t.shield,font:r.bold,textHaloColor:t.motorway,textHaloWidth:.1,textHaloBlur:1,symbolPlacement:"line",textAnchor:"center",minzoom:14,size:{14:10,18:12,20:16}},"label-street-*":{color:t.label,font:r.regular,textHaloColor:t.labelHalo,textHaloWidth:2,textHaloBlur:1,symbolPlacement:"line",textAnchor:"center",minzoom:12,size:{12:10,15:13}},"label-address-housenumber":{font:r.regular,textHaloColor:t.building.lighten(.05),textHaloWidth:2,textHaloBlur:1,symbolPlacement:"point",textAnchor:"center",minzoom:17,size:{17:8,19:10},color:t.building.darken(.3)},"marking-oneway{-reverse,}":{minzoom:16,image:"basics:marking-arrow",opacity:{16:0,17:.7},font:r.regular},"symbol-*":{iconSize:1,symbolPlacement:"point",iconOpacity:.7,iconKeepUpright:!0,font:r.regular,size:10,color:t.symbol,iconAnchor:"bottom",textAnchor:"top",textHaloColor:t.labelHalo,textHaloWidth:2,textHaloBlur:1},"symbol-transit-airport":{minzoom:12,image:"basics:icon-airport",iconSize:{12:.5,14:1}},"symbol-transit-airfield":{minzoom:13,image:"basics:icon-airfield",iconSize:{13:.5,15:1}},"symbol-transit-station":{minzoom:13,image:"basics:icon-rail",iconSize:{13:.5,15:1}},"symbol-transit-lightrail":{minzoom:14,image:"basics:icon-rail_light",iconSize:{14:.5,16:1}},"symbol-transit-subway":{minzoom:14,image:"basics:icon-rail_metro",iconSize:{14:.5,16:1}},"symbol-transit-tram":{minzoom:15,image:"basics:transport-tram",iconSize:{15:.5,17:1}},"symbol-transit-bus":{minzoom:16,image:"basics:icon-bus",iconSize:{16:.5,18:1}},"poi-*":{minzoom:16,iconSize:{16:.5,19:.5,20:1},opacity:{16:0,17:.4},symbolPlacement:"point",iconOptional:!0,font:r.regular,color:t.poi},"poi-amenity":{image:["match",["get","amenity"],"arts_centre","basics:icon-art_gallery","atm","basics:icon-atm","bank","basics:icon-bank","bar","basics:icon-bar","bench","basics:icon-bench","bicycle_rental","basics:icon-bicycle_share","biergarten","basics:icon-beergarden","cafe","basics:icon-cafe","car_rental","basics:icon-car_rental","car_sharing","basics:icon-car_rental","car_wash","basics:icon-car_wash","cinema","basics:icon-cinema","college","basics:icon-college","community_centre","basics:icon-community","dentist","basics:icon-dentist","doctors","basics:icon-doctor","dog_park","basics:icon-dog_park","drinking_water","basics:icon-drinking_water","embassy","basics:icon-embassy","fast_food","basics:icon-fast_food","fire_station","basics:icon-fire_station","fountain","basics:icon-fountain","grave_yard","basics:icon-cemetery","hospital","basics:icon-hospital","hunting_stand","basics:icon-huntingstand","library","basics:icon-library","marketplace","basics:icon-marketplace","nightclub","basics:icon-nightclub","nursing_home","basics:icon-nursinghome","pharmacy","basics:icon-pharmacy","place_of_worship","basics:icon-place_of_worship","playground","basics:icon-playground","police","basics:icon-police","post_box","basics:icon-postbox","post_office","basics:icon-post","prison","basics:icon-prison","pub","basics:icon-beer","recycling","basics:icon-recycling","restaurant","basics:icon-restaurant","school","basics:icon-school","shelter","basics:icon-shelter","telephone","basics:icon-telephone","theatre","basics:icon-theatre","toilets","basics:icon-toilet","townhall","basics:icon-town_hall","vending_machine","basics:icon-vendingmachine","veterinary","basics:icon-veterinary","waste_basket","basics:icon-waste_basket",""]},"poi-leisure":{image:["match",["get","leisure"],"golf_course","basics:icon-golf","ice_rink","basics:icon-icerink","pitch","basics:icon-pitch","stadium","basics:icon-stadium","swimming_pool","basics:icon-swimming","water_park","basics:icon-waterpark","basics:icon-sports"]},"poi-tourism":{image:["match",["get","tourism"],"chalet","basics:icon-chalet","information","basics:transport-information","picnic_site","basics:icon-picnic_site","viewpoint","basics:icon-viewpoint","zoo","basics:icon-zoo",""]},"poi-shop":{image:["match",["get","shop"],"alcohol","basics:icon-alcohol_shop","bakery","basics:icon-bakery","beauty","basics:icon-beauty","beverages","basics:icon-beverages","books","basics:icon-books","butcher","basics:icon-butcher","chemist","basics:icon-chemist","clothes","basics:icon-clothes","doityourself","basics:icon-doityourself","dry_cleaning","basics:icon-drycleaning","florist","basics:icon-florist","furniture","basics:icon-furniture","garden_centre","basics:icon-garden_centre","general","basics:icon-shop","gift","basics:icon-gift","greengrocer","basics:icon-greengrocer","hairdresser","basics:icon-hairdresser","hardware","basics:icon-hardware","jewelry","basics:icon-jewelry_store","kiosk","basics:icon-kiosk","laundry","basics:icon-laundry","newsagent","basics:icon-newsagent","optican","basics:icon-optician","outdoor","basics:icon-outdoor","shoes","basics:icon-shoes","sports","basics:icon-sports","stationery","basics:icon-stationery","toys","basics:icon-toys","travel_agency","basics:icon-travel_agent","video","basics:icon-video","basics:icon-shop"]},"poi-man_made":{image:["match",["get","man_made"],"lighthouse","basics:icon-lighthouse","surveillance","basics:icon-surveillance","tower","basics:icon-observation_tower","watermill","basics:icon-watermill","windmill","basics:icon-windmill",""]},"poi-historic":{image:["match",["get","historic"],"artwork","basics:icon-artwork","castle","basics:icon-castle","monument","basics:icon-monument","wayside_shrine","basics:icon-shrine","basics:icon-historic"]},"poi-emergency":{image:["match",["get","emergency"],"defibrillator","basics:icon-defibrillator","fire_hydrant","basics:icon-hydrant","phone","basics:icon-emergency_phone",""]}}}}function q(e){const t=function(t){return(new e).build(t)};return t.getOptions=()=>(new e).getDefaultOptions(),t}const Z=q(N),K=q(class extends N{name="Eclipse";constructor(){super(),this.transformDefaultColors((e=>e.invertLuminosity()))}}),Q=q(class extends N{name="Graybeard";constructor(){super(),this.transformDefaultColors((e=>e.saturate(-1)))}}),X=q(class extends N{name="Neutrino";defaultFonts={regular:"noto_sans_regular",bold:"noto_sans_bold"};defaultColors={land:"#f6f0f6",water:"#cbd2df",grass:"#e7e9e5",wood:"#d9e3d9",agriculture:"#f8eeee",commercial:"#ebe8e6",building:"#e0d1d9",street:"#ffffff",boundary:"#e6ccd8",foot:"#fef8ff",rail:"#e8d5e0",label:"#cbb7b7",buildingbg:"#000",burial:"#000",construction:"#000",cycle:"#000",danger:"#000",disputed:"#000",education:"#000",glacier:"#000",hospital:"#000",industrial:"#000",labelHalo:"#000",leisure:"#000",motorway:"#000",motorwaybg:"#000",park:"#000",parking:"#000",poi:"#000",prison:"#000",residential:"#000",rock:"#000",sand:"#000",shield:"#000",streetbg:"#000",subway:"#000",symbol:"#000",trunk:"#000",trunkbg:"#000",waste:"#000",wetland:"#000"};getStyleRules(e){const{colors:t,fonts:r}=e;return{background:{color:t.land},"boundary-{country,state}":{color:t.boundary},"boundary-country:outline":{size:{2:2,10:6},opacity:{2:0,4:.3},color:t.land.lighten(.05),lineBlur:1},"boundary-country":{size:{2:1,10:4},opacity:{2:0,4:1}},"boundary-state:outline":{size:{7:3,10:5},opacity:{7:0,8:.3},color:t.land.lighten(.05),lineBlur:1},"boundary-state":{size:{7:2,10:3},opacity:{7:0,8:1},lineDasharray:[0,1.5,1,1.5],lineCap:"round",lineJoin:"round"},"water-*":{color:t.water},"water-area":{opacity:{4:0,6:1}},"water-area-*":{opacity:{4:0,6:1}},"water-{pier,dam}-area":{color:t.land,opacity:{12:0,13:1}},"water-pier":{color:t.land},"land-*":{color:t.land},"land-forest":{color:t.wood,opacity:{7:0,8:1}},"land-grass":{color:t.grass,opacity:{11:0,12:1}},"land-{park,garden,vegetation}":{color:t.grass.darken(.05).saturate(.05),opacity:{11:0,12:1}},"land-agriculture":{color:t.agriculture,opacity:{10:0,11:1}},"land-{commercial,industrial,residential}":{color:t.land.darken(.03),opacity:{10:0,11:1}},"site-{bicycleparking,parking}":{color:t.commercial},building:{color:t.building,opacity:{14:0,15:1}},bridge:{color:t.land.darken(.01)},"{tunnel-,bridge-,}street-*":{color:t.street,size:1,lineJoin:"round",lineCap:"round"},"{tunnel-,}street-*:outline":{color:t.street.darken(.1),lineJoin:"round",lineCap:"round"},"tunnel-street-*":{color:t.street.darken(.03)},"tunnel-street-*:outline":{color:t.street.darken(.13),lineDasharray:[1,2]},"bridge-street-*:outline":{color:t.street.darken(.15)},"{bridge-street,tunnel-street,street}-motorway:outline":{size:{5:2,10:5,14:5,16:14,18:38,19:84,20:168},opacity:{5:0,6:1}},"{bridge-street,tunnel-street,street}-motorway":{size:{5:1,10:4,14:4,16:12,18:36,19:80,20:160},opacity:{5:0,6:1}},"{bridge-street,tunnel-street,street}-trunk:outline":{size:{7:2,10:4,14:6,16:12,18:36,19:74,20:144},opacity:{7:0,8:1}},"{bridge-street,tunnel-street,street}-trunk":{size:{7:1,10:3,14:5,16:10,18:34,19:70,20:140},opacity:{7:0,8:1}},"{bridge-street,tunnel-street,street}-primary:outline":{size:{7:2,10:4,14:6,16:12,18:36,19:74,20:144},opacity:{7:0,8:1}},"{bridge-street,tunnel-street,street}-primary":{size:{7:1,10:3,14:5,16:10,18:34,19:70,20:140},opacity:{7:0,8:1}},"{bridge-street,tunnel-street,street}-secondary:outline":{size:{11:2,14:5,16:8,18:30,19:68,20:138},opacity:{11:0,12:1}},"{bridge-street,tunnel-street,street}-secondary":{size:{11:1,14:4,16:6,18:28,19:64,20:130},opacity:{11:0,12:1}},"{bridge-street,tunnel-street,street}-motorway-link:outline":{minzoom:12,size:{12:2,14:3,16:7,18:14,20:40},opacity:{12:0,13:1}},"{bridge-street,tunnel-street,street}-motorway-link":{minzoom:12,size:{12:1,14:2,16:5,18:12,20:38},opacity:{12:0,13:1}},"{bridge-street,tunnel-street,street}-{trunk,primary,secondary}-link:outline":{minzoom:13,size:{12:2,14:3,16:7,18:14,20:40},opacity:{13:0,14:1}},"{bridge-street,tunnel-street,street}-{trunk,primary,secondary}-link":{minzoom:13,size:{12:1,14:2,16:5,18:12,20:38},opacity:{13:0,14:1}},"{bridge-street,tunnel-street,street}-{tertiary,tertiary-link,unclassified,residential,living_street,pedestrian}:outline":{size:{12:2,14:3,16:6,18:26,19:64,20:128},opacity:{12:0,13:1}},"{bridge-street,tunnel-street,street}-{tertiary,tertiary-link,unclassified,residential,living_street,pedestrian}":{size:{12:1,14:2,16:5,18:24,19:60,20:120},opacity:{12:0,13:1}},"{bridge-street,tunnel-street,street}-{service,track}:outline":{size:{14:2,16:4,18:18,19:48,20:96},opacity:{14:0,15:1}},"{bridge-street,tunnel-street,street}-{service,track}":{size:{14:1,16:3,18:16,19:44,20:88},opacity:{14:0,15:1}},"way-{footway,path,steps}:outline":{size:{17:0,18:3},opacity:{17:0,18:1},minzoom:17,color:t.foot.darken(.05)},"way-{footway,path,steps}":{size:{17:0,18:2},opacity:{17:0,18:1},minzoom:17,color:t.foot},"street-pedestrian":{size:{13:1,15:3},opacity:{13:0,14:1},color:t.foot},"street-pedestrian-zone":{color:t.foot,opacity:{14:0,15:1}},"{tunnel-,bridge-,}transport-{rail,lightrail}:outline":{color:t.rail,size:{8:1,12:1,15:3}},"{tunnel-,bridge-,}transport-{rail,lightrail}":{color:t.rail.lighten(.1),size:{8:1,12:1,15:2},lineDasharray:[2,2]},"{bridge-,}transport-rail:outline":{opacity:{8:0,9:1}},"{bridge-,}transport-rail":{opacity:{14:0,15:1}},"{bridge-,}transport-lightrail:outline":{opacity:{11:0,12:1}},"{bridge-,}transport-lightrail":{opacity:{14:0,15:1}},"tunnel-transport-rail:outline":{opacity:{8:0,9:.3}},"tunnel-transport-rail":{opacity:{14:0,15:.3}},"tunnel-transport-lightrail:outline":{opacity:{11:0,12:.3}},"tunnel-transport-lightrail":{opacity:{14:0,15:.3}},"label-boundary-*":{color:t.label,font:r.bold,textTransform:"uppercase",textHaloColor:t.label.lighten(.5),textHaloWidth:.1,textHaloBlur:1},"label-boundary-country-large":{minzoom:2,size:{2:11,5:16}},"label-boundary-country-medium":{minzoom:3,size:{3:11,5:15}},"label-boundary-country-small":{minzoom:4,size:{4:11,5:14}},"label-boundary-state":{minzoom:5,color:t.label.lighten(.05),size:{5:8,8:12}},"label-place-*":{color:t.label.rotateHue(-15).saturate(1).darken(.05),font:r.regular,textHaloColor:t.label.lighten(.5),textHaloWidth:.1,textHaloBlur:1,size:1},"label-place-capital":{minzoom:5,size:{5:12,10:16}},"label-place-statecapital":{minzoom:6,size:{6:11,10:15}},"label-place-city":{minzoom:7,size:{7:11,10:14}},"label-place-town":{minzoom:8,size:{8:11,12:14}},"label-place-village":{minzoom:9,size:{9:11,12:14}},"label-place-hamlet":{minzoom:10,size:{10:11,12:14}},"label-place-suburb":{minzoom:11,size:{11:11,13:14},textTransform:"uppercase",color:t.label.rotateHue(-30).saturate(1).darken(.05)},"label-place-quarter":{minzoom:13,size:{13:13},textTransform:"uppercase",color:t.label.rotateHue(-40).saturate(1).darken(.05)},"label-place-neighbourhood":{minzoom:14,size:{14:12},textTransform:"uppercase",color:t.label.rotateHue(-50).saturate(1).darken(.05)},"label-motorway-shield":{color:t.label,font:r.regular,textHaloColor:t.label.saturate(-.5).lighten(.1),textHaloWidth:.1,textHaloBlur:1,symbolPlacement:"line",textAnchor:"center",minzoom:14,size:{14:8,18:10,20:16}},"label-street-*":{color:t.label,font:r.regular,textHaloColor:t.label.saturate(-.5).lighten(.1),textHaloWidth:.1,textHaloBlur:1,symbolPlacement:"line",textAnchor:"center",minzoom:12,size:{12:10,15:13}}}}});function Y(e){if("object"!=typeof e||null===e)throw Error("spec must be an object");const t=e;if(null!=t.data&&"3.0.0"!==t.tilejson)throw Error('spec.tilejson must be "3.0.0"');if(null!=t.attribution&&"string"!=typeof t.attribution)throw Error("spec.attribution must be a string if present");if(null!=t.bounds){if(!Array.isArray(t.bounds)||4!==t.bounds.length||t.bounds.some((e=>"number"!=typeof e)))throw Error("spec.bounds must be an array of four numbers if present");const e=t.bounds;if(e[0]<-180||e[0]>180)throw Error("spec.bounds[0] must be between -180 and 180");if(e[1]<-90||e[1]>90)throw Error("spec.bounds[1] must be between -90 and 90");if(e[2]<-180||e[2]>180)throw Error("spec.bounds[2] must be between -180 and 180");if(e[3]<-90||e[3]>90)throw Error("spec.bounds[3] must be between -90 and 90");if(e[0]>e[2])throw Error("spec.bounds[0] must be smaller than spec.bounds[2]");if(e[1]>e[3])throw Error("spec.bounds[1] must be smaller than spec.bounds[3]")}if(null!=t.center){if(!Array.isArray(t.center)||2!==t.center.length||t.center.some((e=>"number"!=typeof e)))throw Error("spec.center must be an array of two numbers if present");const e=t.center;if(e[0]<-180||e[0]>180)throw Error("spec.center[0] must be between -180 and 180");if(e[1]<-90||e[1]>90)throw Error("spec.center[1] must be between -90 and 90")}if(null!=t.data&&(!Array.isArray(t.data)||t.data.some((e=>"string"!=typeof e))))throw Error("spec.data must be an array of strings if present");if(null!=t.description&&"string"!=typeof t.description)throw Error("spec.description must be a string if present");if(null!=t.fillzoom&&("number"!=typeof t.fillzoom||t.fillzoom<0))throw Error("spec.fillzoom must be a positive integer if present");if(null!=t.grids&&(!Array.isArray(t.grids)||t.grids.some((e=>"string"!=typeof e))))throw Error("spec.grids must be an array of strings if present");if(null!=t.legend&&"string"!=typeof t.legend)throw Error("spec.legend must be a string if present");if(null!=t.minzoom&&("number"!=typeof t.minzoom||t.minzoom<0))throw Error("spec.minzoom must be a positive integer if present");if(null!=t.maxzoom&&("number"!=typeof t.maxzoom||t.maxzoom<0))throw Error("spec.maxzoom must be a positive integer if present");if(null!=t.name&&"string"!=typeof t.name)throw Error("spec.name must be a string if present");if(null!=t.scheme&&"xyz"!==t.scheme&&"tms"!==t.scheme)throw Error('spec.scheme must be "tms" or "xyz" if present');if(null!=t.template&&"string"!=typeof t.template)throw Error("spec.template must be a string if present");if(!Array.isArray(t.tiles)||0===t.tiles.length||t.tiles.some((e=>"string"!=typeof e)))throw Error("spec.tiles must be an array of strings");return!0}function ee(e,t){const r={tiles:e.tiles,type:t};return null!=e.minzoom&&(r.minzoom=e.minzoom),null!=e.maxzoom&&(r.maxzoom=e.maxzoom),null!=e.attribution&&(r.attribution=e.attribution),null!=e.scheme&&(r.scheme=e.scheme),r}q(class extends N{name="Empty";getStyleRules(e){return{}}});const te={colorful:Z,eclipse:K,graybeard:Q,neutrino:X};e.Color=t,e.colorful=Z,e.eclipse=K,e.graybeard=Q,e.guessStyle=function(e,r){if(e=L(e),r&&r.baseUrl){const{baseUrl:t}=r;e.tiles=e.tiles.map((e=>G(t,e)))}let a;var i;return Y(e),Y(i=e),a="vector_layers"in i&&null!=i.vector_layers?function(e){if("object"!=typeof e)return!1;if(!("vector_layers"in e))return!1;if(!Array.isArray(e.vector_layers))return!1;const t=new Set(e.vector_layers.map((e=>String(e.id))));return["place_labels","boundaries","boundary_labels","addresses","water_lines","water_lines_labels","dam_lines","dam_polygons","pier_lines","pier_polygons","bridges","street_polygons","streets_polygons_labels","ferries","streets","street_labels","street_labels_points","aerialways","public_transport","buildings","water_polygons","ocean","water_polygons_labels","land","sites","pois"].every((e=>t.has(e)))}(e)?function(e,t){return Z({tiles:e.tiles,baseUrl:t.baseUrl,glyphs:t.glyphs,sprite:t.sprite})}(e,{baseUrl:r?.baseUrl,glyphs:r?.glyphs,sprite:r?.sprite}):function(e){const r="vectorSource",a={background:[],circle:[],line:[],fill:[]};return a.background.push({id:"background",type:"background",paint:{"background-color":"#fff"}}),e.vector_layers.forEach((e=>{let i,o,n="bright";/water|ocean|lake|sea|river/.test(e.id)&&(o="blue"),/state|country|place/.test(e.id)&&(o="pink"),/road|highway|transport|streets/.test(e.id)&&(o="orange"),/contour|building/.test(e.id)&&(o="monochrome"),e.id.includes("building")&&(n="dark"),/contour|landuse/.test(e.id)&&(o="yellow"),/wood|forest|park|landcover|land/.test(e.id)&&(o="green"),e.id.includes("point")&&(i="strong",n="light");const s=t.random({hue:o,luminosity:n,saturation:i,seed:e.id,opacity:.6}).asString();a.circle.push({id:`${r}-${e.id}-circle`,"source-layer":e.id,source:r,type:"circle",filter:["==","$type","Point"],paint:{"circle-color":s,"circle-radius":2}}),a.line.push({id:`${r}-${e.id}-line`,"source-layer":e.id,source:r,type:"line",filter:["==","$type","LineString"],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":s}}),a.fill.push({id:`${r}-${e.id}-fill`,"source-layer":e.id,source:r,type:"fill",filter:["==","$type","Polygon"],paint:{"fill-color":s,"fill-opacity":.3,"fill-antialias":!0,"fill-outline-color":s}})})),{version:8,sources:{[r]:ee(e,"vector")},layers:[...a.background,...a.fill,...a.line,...a.circle]}}(e):function(e){const t="rasterSource";return{version:8,sources:{[t]:ee(e,"raster")},layers:[{id:"raster",type:"raster",source:t}]}}(e),a},e.neutrino=X,e.styles=te}));
//# sourceMappingURL=versatiles-style.js.map
